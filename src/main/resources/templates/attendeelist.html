<!DOCTYPE HTML>

<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="includes/dependencies :: dependencies">
  <title>Teilnehmerliste</title>
  <link th:href="styles.css" rel="stylesheet"/>
</head>
<body>
<table class="table">
  <thead>
  <th>Name</th>
  <th>Vorname</th>
  <th>Klasse</th>
  <th>Email</th>
  <th class="d-print-none">Teilnehmer abmelden</th>
  </thead>
  <tbody>
  <tr th:each="oneAttendee : ${allattendeesbyAgId}">
    <td><span th:utext="${oneAttendee.getAttendee().getName()}"></span></td>
    <td><span th:utext="${oneAttendee.getAttendee().getFirstName()}"></span></td>
    <td></td>
    <td><span th:utext="${oneAttendee.getAttendee().getEmail()}"></span></td>
    <td class="d-print-none">
      <div th:if="!${oneAttendee.id}">
        ✔️ abgemeldet
      </div>
      <div th:if="${oneAttendee.id}">
        <div class="popup btn btn-primary" th:onclick="|openPopup(${oneAttendee.id})|">abmelden
          <span class="popuptext" th:id="${oneAttendee.id}">
                 <button class="btn btn-outline-danger">Schließen</button><br/> Diesen Teilnehmer abmelden?
       				 <form th:action="@{/event/{eventId}/remove/{attendeeId}(eventId=${eventId}, attendeeId=${oneAttendee.id})}"
                 		   th:method="post">
                 		   <button class="btn btn-primary">Abmelden</button>
                 	 </form>	    
        	  </span>
        </div>
      </div>
    </td>
  </tr>
  </tbody>
</table>


<style>
  /* The actual popup */
  .popup .popuptext {
    bottom: -390%;
  }

  /* Toggle this class - hide and show the popup */
  .popup .show {
    visibility: visible;
    -webkit-animation: fadeIn 1s;
    animation: fadeIn 1s;
  }
   /* Popup arrow */
  .popup .popuptext::after {
  visibility: hidden;
}
</style>

<script th:src="@{/js/popup.js}"></script>

</body>
</html>
